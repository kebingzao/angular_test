<!doctype html>
<html ng-app="kbz">
<head>
    <meta charset="UTF-8">
    <title>创建一个过滤器</title>
    <script src="bower_components/angular/angular.min.js"></script>
    <script>
//        写一个你自己的过滤器非常容易：在你的模块中注册一个新的过滤器（可注入的）工厂函数就行了。
//        这个工厂函数必须放回一个新的过滤器函数，这个过滤函数的第一个参数接受的是输入。
//        任何过滤器参数都会被当成附加的参数传递给过滤器。
//
//        下面的例子展示了逆转字符串文本。另外，它有条件地将文本大写。
        angular.module('kbz', []).controller("Ctrl", function($scope){
            $scope.greeting = 'hello';
        }).filter('reverse', function() {
            return function(input, uppercase) {
                var out = "";
                for (var i = 0; i < input.length; i++) {
                    out = input.charAt(i) + out;
                }
                // conditional based on optional argument
                if (uppercase) {
                    out = out.toUpperCase();
                }
                return out;
            }
        });
    </script>
</head>
<body>
<div ng-controller="Ctrl">
    <input ng-model="greeting" ><br>
    No filter: {{greeting}}<br>
    Reverse: {{greeting|reverse}}<br>
    Reverse + uppercase: {{greeting|reverse:true}}<br>
</div>
</body>
</html>
